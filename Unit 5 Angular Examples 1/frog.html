<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Frog</title>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
</head>

<body>

  <div data-ng-app="MyApp" data-ng-controller="MyController">
    <canvas id="myCanvas" width="500" height="500" style="border:0px;"></canvas>
  </div>
  
  <script>
  
    <!-- get the canvas context -->
    var canvas = document.getElementById("myCanvas");
    var ctx = canvas.getContext("2d");
    var num = 0;

    angular.module('MyApp', []).controller('MyController', ['$scope', function($scope) {
      $scope.myColor = 'blue';
      $scope.myPercentage = 55;
      $scope.cx = 130;
      $scope.cy = 300;
      $scope.cradius = 100;
      $scope.jumps = 0;
      
      ctx.fillStyle="lightskyblue";
      ctx.fillRect(0,0,500,400);
      
      ctx.rect(433, 150, 30,200);
      ctx.fillStyle = "red";
      ctx.fill();      
      
      $scope.redraw = function() {
        //set the canvas background to light sky blue
        //draw the sun
        ctx.beginPath();
        ctx.arc(500,0, 100, Math.PI/2, 1.5* Math.PI); 
        ctx.fillStyle = "yellow";
        ctx.fill();
        ctx.closePath();      

        //draw a semi-circle
        ctx.lineWidth=2;
        ctx.beginPath();
        ctx.arc($scope.cx,$scope.cy, $scope.cradius, 0, (2 * $scope.myPercentage/100.0) * Math.PI);
        ctx.strokeStyle = "black";
        ctx.stroke();
        ctx.closePath();
        
        //set the canvas background to light sky blue
        ctx.fillStyle="white";
        ctx.fillRect(0,300,500,400);
        
        //draw ground
        ctx.beginPath();
        ctx.rect(0, 300, 500,25); //x,y,width,height
        ctx.fillStyle = "#66ff66";
        ctx.closePath();
        ctx.fill();          
        
        //draw frog
        ctx.fillStyle = "green"; //font color
        ctx.font = "30px Arial"; //font size type
        ctx.fillText('\u{1F438}', 10, 300);  //text , x, y 
        
        ctx.fillStyle = "white"; //font color
        ctx.font = "20px Arial"; //font size type
        ctx.fillText('Jumps: ' + $scope.jumps, 10, 25);  //text , x, y      
        
        $scope.myPercentage += 1;

        if ($scope.myPercentage < 105) {
          setTimeout(function() {
            $scope.redraw();
          }, 10);     
        } else {
        
          ctx.clearRect(0, 0, 375,50);
          ctx.fillStyle = "lightskyblue"; //font color
          ctx.rect(0, 0, 375,50); //x,y,width,height
          ctx.fill();            
        
          $scope.jumps = $scope.jumps + 1;
          
          ctx.fillStyle = "white"; //font color
          ctx.font = "20px Arial"; //font size type
          ctx.fillText('Jumps: ' + $scope.jumps, 10, 25);  //text , x, y 

          $scope.myPercentage = 55;
          $scope.cx = $scope.cx + $scope.cradius;
          $scope.cy = 300;     
          $scope.cradius = $scope.cradius / 2.0;    
          $scope.cx = $scope.cx + $scope.cradius;  
          $scope.redraw();          
        }
      
      };
      
      $scope.redraw(); //call it manually the first time
 
      
    }]);

  </script>  
  
</body>


</html>
